<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Morning</title>
</head>

<body>
  <div class="bg-wrap">
    <div class="background"></div>
  </div>
  <div class="envelope">
    <div class="cover">
      <span class="heart btn-open"></span>
    </div>
  </div>
  <div class="card">
    <div class="dear">💌Dear Baeeee</div>
    <div class="letter">
      <div class="scroll-area">
        <p>
          Morning baeee, cuci muka dulu sana masih sipit tuhhhh upssss!<br>
          baeee maaf yaaa kejadian tadi malem, aku bener bener parah, yaa aku tau kamu udh maafin makasih yaaa
          hahahah<br>
          minum dulu sana pagi pagi gini minum air putih baik tauuu, ehhh ujan ya? ga tau sih aku bikinnya tdi malem
          ini, kalo ujan siapin selimut baeeee
          sebelum rasa gatel menyerang hahahahhah, semoga ga ujan yaaa biar fresh bosen ujan mulu.<br>
          selamat beraktifitas baeee, semoga ga ada bocil ganggu lahhh hahahahha.<br>
          Gajelas ya bae? emang hahhaha kan aku emang gajelas hahahha udah lemot gajelas, tapi gini gini your favorite
          person ahahah
          semoga pas bangun kamu lgsg semangat, dan rate nya tinggi aminn hahhahha, i love uuuu, baeee my egg, mbullku,
          mine,
          youre my everything baeee<br>
          <span class="date">2023. 01. 02</span>
        </p>
      </div>
    </div>
    <div class="from">From. Zach </div>
  </div>
  <script>
    const background = document.querySelector('.background');
    const envelope = document.querySelector('.envelope');
    const btnOpen = envelope.querySelector('.btn-open');

    const openCard = () => {
      envelope.style.opacity = '0';
      setTimeout(() => {
        envelope.remove()
      }, 1000)
    };
    const createBgHeart = () => {
      const hearts = ['🧡', '💛', '💚', '💙', '💜', '🤍', '💗'];
      const randomHeart = hearts[~~(Math.random() * hearts.length)];

      return `<span class="bg-heart">${randomHeart}</span>`;
    };
    const addBgHeart = () => (background.innerHTML += createBgHeart());
    const addBg = () => {
      const newBg = background.cloneNode(true);
      background.after(newBg);
    };

    function fnRecursive(max, fnAdd) {
      let cnt = 0;
      const addEl = () => {
        cnt++;
        fnAdd();
        if (cnt === max) return;
        addEl();
      };
      addEl();
    }

    fnRecursive(20, addBgHeart);
    fnRecursive(15, addBg);

    btnOpen.addEventListener('click', openCard);
  </script>
</body>

</html>